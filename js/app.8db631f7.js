(function(t){function e(e){for(var n,o,u=e[0],a=e[1],s=e[2],p=0,l=[];p<u.length;p++)o=u[p],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&l.push(c[o][0]),c[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);d&&d(e);while(l.length)l.shift()();return i.push.apply(i,s||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,u=1;u<r.length;u++){var a=r[u];0!==c[a]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},c={app:0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/frontend-review-test/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var d=a;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"06f8":function(t,e,r){},"1d4d":function(t,e,r){"use strict";r("987c")},5535:function(t,e,r){"use strict";r("68c5")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Header",{attrs:{currency:t.currency}}),r("List",{attrs:{currency:t.currency}}),r("Cart",{attrs:{currency:t.currency}})],1)},i=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart-list"},t._l(t.cartItems,(function(e){return r("div",[t._v(" "+t._s(e.title)+" "+t._s(e.amount)+" кг x "+t._s(e.price)+" "+t._s(t.currency)+" = "+t._s((e.amount*e.price).toFixed(2))+" "+t._s(t.currency)+" ")])})),0)},u=[],a={name:"Cart",props:{currency:String},computed:{cartItems:function(){return this.$store.getters.cartItemsReversed}}},s=a,d=(r("e64a"),r("2877")),p=Object(d["a"])(s,o,u,!1,null,"7e6d67f4",null),l=p.exports,f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("h3",[t._v("Товаров в корзине на: "+t._s(t.cartPrice)+" "+t._s(t.currency))])])},m=[],v={name:"Header",props:{currency:String},computed:{cartPrice:function(){return this.$store.getters.cartPrice}}},h=v,g=(r("1d4d"),Object(d["a"])(h,f,m,!1,null,"bfb3d364",null)),b=g.exports,y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-list"},t._l(t.productsList,(function(e){return r("Product",{key:e.id,style:{width:t.cardsWidth+"%"},attrs:{currency:t.currency,product:e}})})),1)},w=[],_=r("1da1"),P=(r("96cf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("p",{staticClass:"card-title"},[t._v(t._s(t.product.title))]),r("img",{staticClass:"card-image",attrs:{src:t.publicPath+t.product.image,alt:""}}),r("p",{staticClass:"card-price"},[t._v("Цена: "+t._s(t.product.price)+" "+t._s(t.currency))]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number",min:"0"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),r("span",[t._v(" кг")])]),r("button",{on:{click:function(e){return t.addToCart(t.product)}}},[t._v(" В корзину ")])])}),j=[],O={name:"Product",props:{product:Object,currency:String},data:function(){return{amount:0,publicPath:"/frontend-review-test/"}},methods:{addToCart:function(t){var e=+this.amount;if(!(e<=0)){var r={amount:e,price:t.price,title:t.title};this.$store.commit("addToCart",r)}}}},x=O,C=(r("5535"),Object(d["a"])(x,P,j,!1,null,"0a74968b",null)),L=C.exports,$={name:"List",props:{currency:String},data:function(){return{interval:null,windowWidth:0}},computed:{productsList:function(){return this.$store.getters.getProducts},cardsWidth:function(){var t=this.windowWidth,e=1;return t>840?e=3:t>420&&t<840&&(e=2),100/e}},methods:{startPricesMonitoring:function(){this.interval=setInterval(this.getList,2e3)},getList:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("loadProducts");case 2:case"end":return e.stop()}}),e)})))()},onWindowResize:function(t){this.windowWidth=window.innerWidth}},created:function(){this.startPricesMonitoring()},mounted:function(){this.onWindowResize(),window.addEventListener("resize",this.onWindowResize)},beforeDestroy:function(){clearInterval(this.interval),window.removeEventListener("resize",this.onWindowResize)},components:{Product:L}},S=$,W=(r("a231"),Object(d["a"])(S,y,w,!1,null,"7031a431",null)),T=W.exports,E={name:"App",data:function(){return{currency:"VGTB"}},components:{Header:b,List:T,Cart:l}},R=E,k=(r("034f"),Object(d["a"])(R,c,i,!1,null,null,null)),z=k.exports,I=r("2f62"),M=(r("fb6a"),r("d3b7"),r("159b"),r("b680"),{state:{cart:[]},getters:{cartItemsReversed:function(t){return t.cart.slice().reverse()},cartPrice:function(t){var e=0;return t.cart.forEach((function(t){e+=t.price*t.amount})),e.toFixed(2)}},mutations:{addToCart:function(t,e){t.cart.push(e)}},actions:{}}),H=200;function F(t){return new Promise((function(e){setTimeout((function(){e(t())}),H)}))}var J={getProductsList:function(){var t=[{id:"potato",title:"Картошка",price:49.99,image:"products/potato.jpg"},{id:"carrot",title:"Морковка",price:55,image:"products/carrot.jpg"},{id:"cabbage",title:"Капуста",price:28.5,image:"products/cabbage.jpg"}];return t}},A={getProductsList:function(){return F(J.getProductsList)}},B=A,D={state:{products:[]},getters:{getProducts:function(t){return t.products}},mutations:{updateProducts:function(t,e){t.products=e}},actions:{loadProducts:function(t){var e=t.commit;B.getProductsList().then((function(t){e("updateProducts",t)}))}}};n["a"].use(I["a"]);var G=new I["a"].Store({modules:{products:D,cart:M}});n["a"].config.productionTip=!1,new n["a"]({store:G,render:function(t){return t(z)}}).$mount("#app")},"68c5":function(t,e,r){},"7f02":function(t,e,r){},"85ec":function(t,e,r){},"987c":function(t,e,r){},a231:function(t,e,r){"use strict";r("7f02")},e64a:function(t,e,r){"use strict";r("06f8")}});
//# sourceMappingURL=app.8db631f7.js.map