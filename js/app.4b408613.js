(function(t){function e(e){for(var n,u,a=e[0],i=e[1],s=e[2],l=0,p=[];l<a.length;l++)u=a[l],Object.prototype.hasOwnProperty.call(c,u)&&c[u]&&p.push(c[u][0]),c[u]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,a=1;a<r.length;a++){var i=r[a];0!==c[i]&&(n=!1)}n&&(o.splice(e--,1),t=u(u.s=r[0]))}return t}var n={},c={app:0},o=[];function u(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=t,u.c=n,u.d=function(t,e,r){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(r,n,function(e){return t[e]}.bind(null,n));return r},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/frontend-review-test/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var d=i;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"05ee":function(t,e,r){"use strict";r("9523")},2878:function(t,e,r){"use strict";r("911c")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Header"),r("List"),r("Cart")],1)},o=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart-list"},t._l(t.cartItemsReversed,(function(e){return r("div",[t._v(" "+t._s(e.title)+" "+t._s(e.amount)+" кг x "+t._s(e.price)+" "+t._s(t.currency)+" = "+t._s((e.amount*e.price).toFixed(2))+" "+t._s(t.currency)+" ")])})),0)},a=[],i=r("5530"),s=r("2f62"),d={name:"Cart",computed:Object(i["a"])({},Object(s["b"])(["cartItemsReversed","currency"]))},l=d,p=(r("91a3"),r("2877")),f=Object(p["a"])(l,u,a,!1,null,"421d4ab8",null),m=f.exports,v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("h3",[t._v("Товаров в корзине на: "+t._s(t.cartPrice)+" "+t._s(t.currency))])])},b=[],g={name:"Header",computed:Object(i["a"])({},Object(s["b"])(["cartPrice","currency"]))},h=g,y=(r("2878"),Object(p["a"])(h,v,b,!1,null,"14e0984a",null)),_=y.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-list"},t._l(t.products,(function(e){return r("Product",{key:e.id,attrs:{currency:t.currency,product:e}})})),1)},j=[],O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("p",{staticClass:"card-title"},[t._v(t._s(t.product.title))]),r("img",{staticClass:"card-image",attrs:{src:t.publicPath+t.product.image,alt:""}}),r("p",{staticClass:"card-price"},[t._v("Цена: "+t._s(t.product.price)+" "+t._s(t.currency))]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number",min:"0"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),r("span",[t._v(" кг")])]),r("button",{on:{click:function(e){return t.addToCart(t.product)}}},[t._v(" В корзину ")])])},w=[],x={name:"Product",props:{product:Object,currency:String},data:function(){return{amount:0,publicPath:"/frontend-review-test/"}},methods:{addToCart:function(t){var e=+this.amount;if(!(e<=0)){var r={amount:e,price:t.price,title:t.title};this.$store.commit("addToCart",r)}}}},C=x,L=(r("05ee"),Object(p["a"])(C,O,w,!1,null,"e4a3f99e",null)),T=L.exports,$={name:"List",data:function(){return{interval:null}},computed:Object(i["a"])({},Object(s["b"])({products:"getProducts",currency:"currency"})),methods:{startPricesMonitoring:function(){this.interval=setInterval(this.getList,2e3)},getList:function(){this.$store.dispatch("loadProducts")}},created:function(){this.startPricesMonitoring()},beforeDestroy:function(){clearInterval(this.interval)},components:{Product:T}},S=$,E=(r("e5a2"),Object(p["a"])(S,P,j,!1,null,"2aa134f8",null)),M=E.exports,k={name:"App",components:{Header:_,List:M,Cart:m}},I=k,H=(r("034f"),Object(p["a"])(I,c,o,!1,null,null,null)),R=H.exports,F=(r("fb6a"),r("d3b7"),r("159b"),r("b680"),{state:{cart:[]},getters:{cartItemsReversed:function(t){return t.cart.slice().reverse()},cartPrice:function(t){var e=0;return t.cart.forEach((function(t){e+=t.price*t.amount})),e.toFixed(2)}},mutations:{addToCart:function(t,e){t.cart.push(e)}},actions:{}}),J={state:{currency:"VGTB"},getters:{currency:function(t){return t.currency}}},A=200;function B(t){return new Promise((function(e){setTimeout((function(){e(t())}),A)}))}var D={getProductsList:function(){var t=[{id:"potato",title:"Картошка",price:49.99,image:"products/potato.jpg"},{id:"carrot",title:"Морковка",price:55,image:"products/carrot.jpg"},{id:"cabbage",title:"Капуста",price:28.5,image:"products/cabbage.jpg"}];return t}},G={getProductsList:function(){return B(D.getProductsList)}},N=G,V={state:{products:[]},getters:{getProducts:function(t){return t.products}},mutations:{updateProducts:function(t,e){t.products=e}},actions:{loadProducts:function(t){var e=t.commit;N.getProductsList().then((function(t){e("updateProducts",t)}))}}};n["a"].use(s["a"]);var q=new s["a"].Store({modules:{currency:J,products:V,cart:F}});n["a"].config.productionTip=!1,new n["a"]({store:q,render:function(t){return t(R)}}).$mount("#app")},7386:function(t,e,r){},"85ec":function(t,e,r){},"911c":function(t,e,r){},"91a3":function(t,e,r){"use strict";r("f86d")},9523:function(t,e,r){},e5a2:function(t,e,r){"use strict";r("7386")},f86d:function(t,e,r){}});
//# sourceMappingURL=app.4b408613.js.map